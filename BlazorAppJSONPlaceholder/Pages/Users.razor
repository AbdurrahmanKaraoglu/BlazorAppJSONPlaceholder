<!-- Users.razor -->
@page "/users"
@using BlazorAppJSONPlaceholder.Models;


<h1>Kullanıcı Listesi</h1>

@if (users != null)
{
    @foreach (var user in users)
    {
        @* Yanda Album butonu olacak *@
        <div class="user-card">
            <h2>@user.Name</h2>
            <h2>@user.Email</h2>
            <button @onclick="() => ShowUserAlbums(user.Id)">Album</button>
        </div>

    }
}
else
{
    <p>Veriler yükleniyor...</p>
}

@code {
    List<User> users;

    protected override async Task OnInitializedAsync()
    {
        users = await userService.GetUsersAsync();
    }

    private void ShowUserAlbums(int userId)
    {
        // Kullanıcının albüm listesi sayfasına git
        NavigationManager.NavigateTo($"/albums/{userId}");
    }
}
